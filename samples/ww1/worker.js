
//
var isPrime = function(n)
{
    for (var d=3; d<n/2; d+=2)
        if (n%d==0)
            return false;

    return true;
};

//
var calcPrimes = function()
{
    for (var n=3; n<50000; n+=2)
        if (isPrime(n))
            postMessage("" + n);
};

//
self.onmessage = function(e)
{
    console.log("[Worker] Message received from main thread: " + e.data);

    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");
    console.log("==============================================================================================================");

//    postMessage("Msg from worker to main thread");
    calcPrimes();
};
